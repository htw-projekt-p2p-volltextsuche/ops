version: "3.7"
services:
    mongo:
        image: mongo
        ports:
            - "8430:27017"
        volumes: 
            - "~/mongo/data:/data/db"
        environment:
            MONGO_INITDB_ROOT_USERNAME: ${MONGO_INITDB_ROOT_USERNAME}
            MONGO_INITDB_ROOT_PASSWORD: ${MONGO_INITDB_ROOT_PASSWORD}
    crawler:
        image: zinkl/crawler
        environment:
            MONGO_INITDB_ROOT_USERNAME: ${MONGO_INITDB_ROOT_USERNAME}
            MONGO_INITDB_ROOT_PASSWORD: ${MONGO_INITDB_ROOT_PASSWORD}
            MongoConnectionString: "mongodb://${MONGO_INITDB_ROOT_USERNAME}:${MONGO_INITDB_ROOT_PASSWORD}@${MONGO_HOST}:8430"
    fulltext-search:
        image: zinkl/fulltext-search
        ports:
            - "8421:8421"
    p2pframework:
        image: zinkl/p2p-dht
        ports:
            - "8090:8090"